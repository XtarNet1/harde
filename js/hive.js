function a25_0x181c(_0x35b00b,_0x5f697c){const _0x106214=a25_0x1062();return a25_0x181c=function(_0x181c8c,_0x1befd1){_0x181c8c=_0x181c8c-0xf9;let _0x33c546=_0x106214[_0x181c8c];return _0x33c546;},a25_0x181c(_0x35b00b,_0x5f697c);}function a25_0x1062(){const _0x131898=['Waiting\x20','replace','0000000000','map','66YegjnC','join','text','681306fjjwDO','KoboldAiLite:17','url','split','1159166aVcUsv','/status/','30YpHcJd','max','filter','userName','system','1948550SlHgpq','signal','api','contact','wait_time','1951626qMIWjK','koboldHordeApiKey','prompt','settings','role','No\x20id','finished','generations','content','error','14ydXwoM','3ANQJZQ','done','6752sBpKtp','name','POST','substring','length','4162248vBDbcR','8271iCkcqP','trimEnd','json','stringify','user','/async','226996lLdiTR'];a25_0x1062=function(){return _0x131898;};return a25_0x1062();}(function(_0x549f48,_0x5a4b11){const _0x4c0c78=a25_0x181c,_0x255234=_0x549f48();while(!![]){try{const _0x3a49a9=-parseInt(_0x4c0c78(0xf9))/0x1+parseInt(_0x4c0c78(0xfd))/0x2*(parseInt(_0x4c0c78(0x114))/0x3)+parseInt(_0x4c0c78(0x122))/0x4*(-parseInt(_0x4c0c78(0xff))/0x5)+parseInt(_0x4c0c78(0x109))/0x6*(-parseInt(_0x4c0c78(0x113))/0x7)+parseInt(_0x4c0c78(0x116))/0x8*(-parseInt(_0x4c0c78(0x11c))/0x9)+parseInt(_0x4c0c78(0x104))/0xa+-parseInt(_0x4c0c78(0x127))/0xb*(-parseInt(_0x4c0c78(0x11b))/0xc);if(_0x3a49a9===_0x5a4b11)break;else _0x255234['push'](_0x255234['shift']());}catch(_0x34e76f){_0x255234['push'](_0x255234['shift']());}}}(a25_0x1062,0x63820));async function GPTL(_0x486bdc,_0x1822a6){const _0x4aab27=a25_0x181c;let {messages:_0x1ffe3f}=_0x486bdc,_0x5dd939=bs[_0x4aab27(0x106)]['settings'],_0x4114a5=abortController[_0x4aab27(0x105)];_0x5dd939[_0x4aab27(0x10b)]=_0x1ffe3f[_0x4aab27(0x101)](_0x2d901f=>!_0x2d901f[_0x4aab27(0x112)])[_0x4aab27(0x126)](_0x5960e7=>{const _0x397acf=_0x4aab27;if(_0x5960e7[_0x397acf(0x10d)]==='assistant')return bs['contact']['name']+':\x20'+_0x5960e7[_0x397acf(0x111)];if(_0x5960e7[_0x397acf(0x10d)]===_0x397acf(0x103))return _0x5960e7[_0x397acf(0x111)];if(_0x5960e7[_0x397acf(0x10d)]===_0x397acf(0x120))return bs[_0x397acf(0x10c)][_0x397acf(0x102)]+':\x20'+_0x5960e7[_0x397acf(0x111)];})[_0x4aab27(0x128)]('\x0a')+'\x0a'+bs[_0x4aab27(0x107)][_0x4aab27(0x117)]+':';const _0x4d51a9=await fetch(bs[_0x4aab27(0x106)][_0x4aab27(0xfb)]+_0x4aab27(0x121),{'method':_0x4aab27(0x118),'headers':{'accept':'*/*','apikey':bs[_0x4aab27(0x106)][_0x4aab27(0x10a)]||_0x4aab27(0x125),'client-agent':_0x4aab27(0xfa),'content-type':'application/json'},'body':JSON[_0x4aab27(0x11f)](_0x5dd939)}),_0x2a7026=await _0x4d51a9[_0x4aab27(0x11e)]();if(!_0x2a7026['id'])throw new Error(_0x4aab27(0x10e));let _0x45bf26;do{if(_0x4114a5['aborted'])return;const _0x5627e7=await fetch(bs['api'][_0x4aab27(0xfb)]+_0x4aab27(0xfe)+_0x2a7026['id'],{'method':'GET','headers':{'accept':'*/*'}});_0x45bf26=await _0x5627e7[_0x4aab27(0x11e)]();let _0x1862b0=_0x45bf26[_0x4aab27(0x110)][0x0]?.[_0x4aab27(0x129)]||'',_0x3a2bf2=bs[_0x4aab27(0x102)];_0x1862b0=_0x1862b0[_0x4aab27(0xfc)](new RegExp(_0x3a2bf2+':','i'))[0x0]['trim'](),_0x1862b0=_0x1862b0[_0x4aab27(0x124)](/<[^>]*>/g,''),_0x1862b0=end_trim_to_sentence(_0x1862b0,!![]);let _0x3b8755={'finish_reason':_0x45bf26[_0x4aab27(0x10f)],'message':{'content':_0x1862b0||_0x4aab27(0x123)+_0x45bf26[_0x4aab27(0x108)]}};if(_0x1862b0)_0x1822a6(_0x3b8755);if(_0x45bf26['finished'])return _0x3b8755;else await new Promise(_0x390438=>setTimeout(_0x390438,0x3e8));}while(!_0x45bf26[_0x4aab27(0x115)]);}function end_trim_to_sentence(_0x1302e6){const _0x477eef=a25_0x181c;let _0x4bf007=arguments[_0x477eef(0x11a)]>0x1&&arguments[0x1]!==undefined?arguments[0x1]:![],_0x2bde64=-0x1,_0x672fc9=['.','!','?','`','*','\x22',')','}','`',']',';'];for(let _0x168ca8=0x0;_0x168ca8<_0x672fc9['length'];++_0x168ca8){_0x2bde64=Math[_0x477eef(0x100)](_0x2bde64,_0x1302e6['lastIndexOf'](_0x672fc9[_0x168ca8]));}if(_0x4bf007){let _0x2c0e64=_0x1302e6['lastIndexOf']('\x0a');_0x2bde64=Math[_0x477eef(0x100)](_0x2bde64,_0x2c0e64);}if(_0x2bde64>0x0)return _0x1302e6[_0x477eef(0x119)](0x0,_0x2bde64+0x1)[_0x477eef(0x11d)]();return _0x1302e6[_0x477eef(0x11d)]();}